var Ie=Object.defineProperty,je=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var ye=(e,a,t)=>a in e?Ie(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Z=(e,a)=>{for(var t in a||(a={}))Ue.call(a,t)&&ye(e,t,a[t]);if(ge)for(var t of ge(a))Ge.call(a,t)&&ye(e,t,a[t]);return e},be=(e,a)=>je(e,He(a));var se=(e,a,t)=>new Promise((n,r)=>{var s=o=>{try{u(t.next(o))}catch(c){r(c)}},l=o=>{try{u(t.throw(o))}catch(c){r(c)}},u=o=>o.done?n(o.value):Promise.resolve(o.value).then(s,l);u((t=t.apply(e,a)).next())});import{_ as oe,o as d,c as b,a as C,r as j,b as _,d as v,e as q,u as Te,f as Ae,g as L,w as X,n as Qe,h as W,i as O,j as P,P as Re,k as I,l as ae,m as ne,p as E,t as V,q as ve,s as we,v as Xe,x as ze,F as A,y as J,z as Je,A as pe,B as he,C as xe,D as Ke,E as ke,G as z,H as Ze,I as Be,J as qe,K as et}from"./index.c5d94d34.js";const tt={name:"ErrorMessage",props:["message"],computed:{errorMessage(){return this.message?this.message instanceof Error?this.message.messages||this.message.message:this.message:""}}},at=["innerHTML"];function nt(e,a,t,n,r,s){return t.message?(d(),b("div",{key:0,class:"whitespace-pre-line text-sm text-red-600",role:"alert",innerHTML:s.errorMessage},null,8,at)):C("",!0)}var rt=oe(tt,[["render",nt]]);const ot={class:"h-screen w-60 bg-blue-400 flex flex-col items-start p-6"},st={__name:"Sidebar",setup(e){function a(){window.location.href="/app/service-booking"}function t(){window.location.href="/app/service-job-card"}return(n,r)=>{const s=j("Button");return d(),b("div",ot,[_(s,{class:"mb-8 w-full hover:bg-cyan-500 text-black font-bold py-6 px-4 rounded",label:"Bookings",onClick:r[0]||(r[0]=l=>a())}),_(s,{class:"w-full hover:bg-green-500/50 text-black font-bold py-6 px-4 rounded",label:"Job Card",onClick:r[1]||(r[1]=l=>t())})])}}},$e=6048e5,it=864e5,_e=Symbol.for("constructDateFrom");function H(e,a){return typeof e=="function"?e(a):e&&typeof e=="object"&&_e in e?e[_e](a):e instanceof Date?new e.constructor(a):new Date(a)}function N(e,a){return H(a||e,e)}function lt(e,a,t){const n=N(e,t==null?void 0:t.in);return isNaN(a)?H((t==null?void 0:t.in)||e,NaN):(a&&n.setDate(n.getDate()+a),n)}let ut={};function ue(){return ut}function re(e,a){var u,o,c,S,g,D,h,f;const t=ue(),n=(f=(h=(S=(c=a==null?void 0:a.weekStartsOn)!=null?c:(o=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:o.weekStartsOn)!=null?S:t.weekStartsOn)!=null?h:(D=(g=t.locale)==null?void 0:g.options)==null?void 0:D.weekStartsOn)!=null?f:0,r=N(e,a==null?void 0:a.in),s=r.getDay(),l=(s<n?7:0)+s-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function le(e,a){return re(e,be(Z({},a),{weekStartsOn:1}))}function We(e,a){const t=N(e,a==null?void 0:a.in),n=t.getFullYear(),r=H(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=le(r),l=H(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=le(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function Se(e){const a=N(e),t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),+e-+t}function Ne(e,...a){const t=H.bind(null,e||a.find(n=>typeof n=="object"));return a.map(t)}function Ce(e,a){const t=N(e,a==null?void 0:a.in);return t.setHours(0,0,0,0),t}function Fe(e,a,t){const[n,r]=Ne(t==null?void 0:t.in,e,a),s=Ce(n),l=Ce(r),u=+s-Se(s),o=+l-Se(l);return Math.round((u-o)/it)}function ct(e,a){const t=We(e,a),n=H((a==null?void 0:a.in)||e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),le(n)}function dt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mt(e){return!(!dt(e)&&typeof e!="number"||isNaN(+N(e)))}function ht(e,a,t){const[n,r]=Ne(t==null?void 0:t.in,e,a),s=Me(n,r),l=Math.abs(Fe(n,r));n.setDate(n.getDate()-s*l);const u=Number(Me(n,r)===-s),o=s*(l-u);return o===0?0:o}function Me(e,a){const t=e.getFullYear()-a.getFullYear()||e.getMonth()-a.getMonth()||e.getDate()-a.getDate()||e.getHours()-a.getHours()||e.getMinutes()-a.getMinutes()||e.getSeconds()-a.getSeconds()||e.getMilliseconds()-a.getMilliseconds();return t<0?-1:t>0?1:t}function ft(e,a){const t=N(e,a==null?void 0:a.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const gt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yt=(e,a,t)=>{let n;const r=gt[e];return typeof r=="string"?n=r:a===1?n=r.one:n=r.other.replace("{{count}}",a.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function de(e){return(a={})=>{const t=a.width?String(a.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const bt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pt={date:de({formats:bt,defaultWidth:"full"}),time:de({formats:vt,defaultWidth:"full"}),dateTime:de({formats:wt,defaultWidth:"full"})},xt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kt=(e,a,t,n)=>xt[e];function ee(e){return(a,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=t!=null&&t.width?String(t.width):l;r=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=t!=null&&t.width?String(t.width):e.defaultWidth;r=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(a):a;return r[s]}}const _t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},St={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ct={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ot=(e,a)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Vt={ordinalNumber:Ot,era:ee({values:_t,defaultWidth:"wide"}),quarter:ee({values:St,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ee({values:Ct,defaultWidth:"wide"}),day:ee({values:Mt,defaultWidth:"wide"}),dayPeriod:ee({values:Dt,defaultWidth:"wide",formattingValues:Pt,defaultFormattingWidth:"wide"})};function te(e){return(a,t={})=>{const n=t.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=a.match(r);if(!s)return null;const l=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(u)?Bt(u,g=>g.test(l)):Tt(u,g=>g.test(l));let c;c=e.valueCallback?e.valueCallback(o):o,c=t.valueCallback?t.valueCallback(c):c;const S=a.slice(l.length);return{value:c,rest:S}}}function Tt(e,a){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&a(e[t]))return t}function Bt(e,a){for(let t=0;t<e.length;t++)if(a(e[t]))return t}function qt(e){return(a,t={})=>{const n=a.match(e.matchPattern);if(!n)return null;const r=n[0],s=a.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=a.slice(r.length);return{value:l,rest:u}}}const $t=/^(\d+)(th|st|nd|rd)?/i,Wt=/\d+/i,Nt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ft={any:[/^b/i,/^(a|c)/i]},Yt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Et={any:[/1/i,/2/i,/3/i,/4/i]},Lt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},It={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ht={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ut={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},At={ordinalNumber:qt({matchPattern:$t,parsePattern:Wt,valueCallback:e=>parseInt(e,10)}),era:te({matchPatterns:Nt,defaultMatchWidth:"wide",parsePatterns:Ft,defaultParseWidth:"any"}),quarter:te({matchPatterns:Yt,defaultMatchWidth:"wide",parsePatterns:Et,defaultParseWidth:"any",valueCallback:e=>e+1}),month:te({matchPatterns:Lt,defaultMatchWidth:"wide",parsePatterns:It,defaultParseWidth:"any"}),day:te({matchPatterns:jt,defaultMatchWidth:"wide",parsePatterns:Ht,defaultParseWidth:"any"}),dayPeriod:te({matchPatterns:Ut,defaultMatchWidth:"any",parsePatterns:Gt,defaultParseWidth:"any"})},Qt={code:"en-US",formatDistance:yt,formatLong:pt,formatRelative:kt,localize:Vt,match:At,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rt(e,a){const t=N(e,a==null?void 0:a.in);return Fe(t,ft(t))+1}function Xt(e,a){const t=N(e,a==null?void 0:a.in),n=+le(t)-+ct(t);return Math.round(n/$e)+1}function Ye(e,a){var S,g,D,h,f,w,x,y;const t=N(e,a==null?void 0:a.in),n=t.getFullYear(),r=ue(),s=(y=(x=(h=(D=a==null?void 0:a.firstWeekContainsDate)!=null?D:(g=(S=a==null?void 0:a.locale)==null?void 0:S.options)==null?void 0:g.firstWeekContainsDate)!=null?h:r.firstWeekContainsDate)!=null?x:(w=(f=r.locale)==null?void 0:f.options)==null?void 0:w.firstWeekContainsDate)!=null?y:1,l=H((a==null?void 0:a.in)||e,0);l.setFullYear(n+1,0,s),l.setHours(0,0,0,0);const u=re(l,a),o=H((a==null?void 0:a.in)||e,0);o.setFullYear(n,0,s),o.setHours(0,0,0,0);const c=re(o,a);return+t>=+u?n+1:+t>=+c?n:n-1}function zt(e,a){var u,o,c,S,g,D,h,f;const t=ue(),n=(f=(h=(S=(c=a==null?void 0:a.firstWeekContainsDate)!=null?c:(o=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:o.firstWeekContainsDate)!=null?S:t.firstWeekContainsDate)!=null?h:(D=(g=t.locale)==null?void 0:g.options)==null?void 0:D.firstWeekContainsDate)!=null?f:1,r=Ye(e,a),s=H((a==null?void 0:a.in)||e,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),re(s,a)}function Jt(e,a){const t=N(e,a==null?void 0:a.in),n=+re(t,a)-+zt(t,a);return Math.round(n/$e)+1}function k(e,a){const t=e<0?"-":"",n=Math.abs(e).toString().padStart(a,"0");return t+n}const U={y(e,a){const t=e.getFullYear(),n=t>0?t:1-t;return k(a==="yy"?n%100:n,a.length)},M(e,a){const t=e.getMonth();return a==="M"?String(t+1):k(t+1,2)},d(e,a){return k(e.getDate(),a.length)},a(e,a){const t=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,a){return k(e.getHours()%12||12,a.length)},H(e,a){return k(e.getHours(),a.length)},m(e,a){return k(e.getMinutes(),a.length)},s(e,a){return k(e.getSeconds(),a.length)},S(e,a){const t=a.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,t-3));return k(r,a.length)}},R={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},De={G:function(e,a,t){const n=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,a,t){if(a==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return t.ordinalNumber(r,{unit:"year"})}return U.y(e,a)},Y:function(e,a,t,n){const r=Ye(e,n),s=r>0?r:1-r;if(a==="YY"){const l=s%100;return k(l,2)}return a==="Yo"?t.ordinalNumber(s,{unit:"year"}):k(s,a.length)},R:function(e,a){const t=We(e);return k(t,a.length)},u:function(e,a){const t=e.getFullYear();return k(t,a.length)},Q:function(e,a,t){const n=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return k(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,a,t){const n=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return k(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,a,t){const n=e.getMonth();switch(a){case"M":case"MM":return U.M(e,a);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,a,t){const n=e.getMonth();switch(a){case"L":return String(n+1);case"LL":return k(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,a,t,n){const r=Jt(e,n);return a==="wo"?t.ordinalNumber(r,{unit:"week"}):k(r,a.length)},I:function(e,a,t){const n=Xt(e);return a==="Io"?t.ordinalNumber(n,{unit:"week"}):k(n,a.length)},d:function(e,a,t){return a==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):U.d(e,a)},D:function(e,a,t){const n=Rt(e);return a==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):k(n,a.length)},E:function(e,a,t){const n=e.getDay();switch(a){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,a,t,n){const r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(s);case"ee":return k(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(e,a,t,n){const r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(s);case"cc":return k(s,a.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(e,a,t){const n=e.getDay(),r=n===0?7:n;switch(a){case"i":return String(r);case"ii":return k(r,a.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,a,t){const r=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,a,t){const n=e.getHours();let r;switch(n===12?r=R.noon:n===0?r=R.midnight:r=n/12>=1?"pm":"am",a){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,a,t){const n=e.getHours();let r;switch(n>=17?r=R.evening:n>=12?r=R.afternoon:n>=4?r=R.morning:r=R.night,a){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,a,t){if(a==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return U.h(e,a)},H:function(e,a,t){return a==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):U.H(e,a)},K:function(e,a,t){const n=e.getHours()%12;return a==="Ko"?t.ordinalNumber(n,{unit:"hour"}):k(n,a.length)},k:function(e,a,t){let n=e.getHours();return n===0&&(n=24),a==="ko"?t.ordinalNumber(n,{unit:"hour"}):k(n,a.length)},m:function(e,a,t){return a==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):U.m(e,a)},s:function(e,a,t){return a==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):U.s(e,a)},S:function(e,a){return U.S(e,a)},X:function(e,a,t){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(a){case"X":return Oe(n);case"XXXX":case"XX":return G(n);case"XXXXX":case"XXX":default:return G(n,":")}},x:function(e,a,t){const n=e.getTimezoneOffset();switch(a){case"x":return Oe(n);case"xxxx":case"xx":return G(n);case"xxxxx":case"xxx":default:return G(n,":")}},O:function(e,a,t){const n=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Pe(n,":");case"OOOO":default:return"GMT"+G(n,":")}},z:function(e,a,t){const n=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Pe(n,":");case"zzzz":default:return"GMT"+G(n,":")}},t:function(e,a,t){const n=Math.trunc(+e/1e3);return k(n,a.length)},T:function(e,a,t){return k(+e,a.length)}};function Pe(e,a=""){const t=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),s=n%60;return s===0?t+String(r):t+String(r)+a+k(s,2)}function Oe(e,a){return e%60===0?(e>0?"-":"+")+k(Math.abs(e)/60,2):G(e,a)}function G(e,a=""){const t=e>0?"-":"+",n=Math.abs(e),r=k(Math.trunc(n/60),2),s=k(n%60,2);return t+r+a+s}const Ve=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Ee=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Kt=(e,a)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],r=t[2];if(!r)return Ve(e,a);let s;switch(n){case"P":s=a.dateTime({width:"short"});break;case"PP":s=a.dateTime({width:"medium"});break;case"PPP":s=a.dateTime({width:"long"});break;case"PPPP":default:s=a.dateTime({width:"full"});break}return s.replace("{{date}}",Ve(n,a)).replace("{{time}}",Ee(r,a))},Zt={p:Ee,P:Kt},ea=/^D+$/,ta=/^Y+$/,aa=["D","DD","YY","YYYY"];function na(e){return ea.test(e)}function ra(e){return ta.test(e)}function oa(e,a,t){const n=sa(e,a,t);if(console.warn(n),aa.includes(e))throw new RangeError(n)}function sa(e,a,t){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ia=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,la=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ua=/^'([^]*?)'?$/,ca=/''/g,da=/[a-zA-Z]/;function ie(e,a,t){var S,g,D,h,f,w,x,y,m,i,p,M,F,T,Y,Q,K,fe;const n=ue(),r=(g=(S=t==null?void 0:t.locale)!=null?S:n.locale)!=null?g:Qt,s=(i=(m=(w=(f=t==null?void 0:t.firstWeekContainsDate)!=null?f:(h=(D=t==null?void 0:t.locale)==null?void 0:D.options)==null?void 0:h.firstWeekContainsDate)!=null?w:n.firstWeekContainsDate)!=null?m:(y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)!=null?i:1,l=(fe=(K=(T=(F=t==null?void 0:t.weekStartsOn)!=null?F:(M=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:M.weekStartsOn)!=null?T:n.weekStartsOn)!=null?K:(Q=(Y=n.locale)==null?void 0:Y.options)==null?void 0:Q.weekStartsOn)!=null?fe:0,u=N(e,t==null?void 0:t.in);if(!mt(u))throw new RangeError("Invalid time value");let o=a.match(la).map($=>{const B=$[0];if(B==="p"||B==="P"){const ce=Zt[B];return ce($,r.formatLong)}return $}).join("").match(ia).map($=>{if($==="''")return{isToken:!1,value:"'"};const B=$[0];if(B==="'")return{isToken:!1,value:ma($)};if(De[B])return{isToken:!0,value:$};if(B.match(da))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:$}});r.localize.preprocessor&&(o=r.localize.preprocessor(u,o));const c={firstWeekContainsDate:s,weekStartsOn:l,locale:r};return o.map($=>{if(!$.isToken)return $.value;const B=$.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&ra(B)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&na(B))&&oa(B,a,String(e));const ce=De[B[0]];return ce(u,B,r.localize,c)}).join("")}function ma(e){const a=e.match(ua);return a?a[1].replace(ca,"'"):e}const ha={},fa={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ga(e,a){return d(),b("svg",fa,a[0]||(a[0]=[v("circle",{cx:"8",cy:"8",r:"4.5",fill:"transparent",stroke:"currentColor","stroke-width":"3"},null,-1)]))}var ya=oe(ha,[["render",ga]]);const ba={class:"w-full"},va=["onClick"],wa={class:"flex items-center"},pa={key:0,class:"overflow-hidden text-ellipsis whitespace-nowrap text-base leading-5"},xa={key:1,class:"text-base leading-5 text-gray-500"},ka={class:"mt-1 rounded-lg bg-white py-1 text-base shadow-2xl"},_a={class:"relative px-1.5 pt-0.5"},Sa={key:0,class:"px-2.5 py-1.5 text-sm font-medium text-gray-500"},Ca={key:0,class:"mt-1.5 rounded-md px-2.5 py-1.5 text-base text-gray-600"},Ma={key:0,class:"border-t p-1.5 pb-0.5"},Da={__name:"Autocomplete",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]},size:{type:String,default:"md"},variant:{type:String,default:"subtle"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0}},emits:["update:modelValue","update:query","change"],setup(e,{expose:a,emit:t}){const n=e,r=t,s=q(""),l=q(!1),u=q(null),o=Te(),c=Ae(),S=L(()=>"value"in o),g=L({get(){return S.value?o.value:n.modelValue},set(m){s.value="",m&&(l.value=!1),r(S.value?"change":"update:modelValue",m)}});function D(){l.value=!1}const h=L(()=>{var i;return!n.options||n.options.length==0?[]:((i=n.options[0])!=null&&i.group?n.options:[{group:"",items:n.options}]).map((p,M)=>({key:M,group:p.group,hideLabel:p.hideLabel||!1,items:n.filterable?f(p.items):p.items})).filter(p=>p.items.length>0)});function f(m){return s.value?m.filter(i=>[i.label,i.value].some(M=>(M||"").toString().toLowerCase().includes(s.value.toLowerCase()))):m}function w(m){if(typeof m=="string"){let p=h.value.flatMap(M=>M.items).find(M=>M.value===m);return(p==null?void 0:p.label)||m}return m==null?void 0:m.label}X(s,m=>{r("update:query",m)}),X(l,m=>{m&&Qe(()=>{u.value.el.focus()})});const x=L(()=>n.disabled?"text-gray-600":"text-gray-800"),y=L(()=>{let m={sm:"text-base rounded h-7",md:"text-base rounded h-8",lg:"text-lg rounded-md h-10",xl:"text-xl rounded-md h-10"}[n.size],i={sm:"py-1.5 px-2",md:"py-1.5 px-2.5",lg:"py-1.5 px-3",xl:"py-1.5 px-3"}[n.size],p=n.disabled?"disabled":n.variant,M={subtle:"border border-gray-100 bg-gray-100 placeholder-gray-500 hover:border-gray-200 hover:bg-gray-200 focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",outline:"border border-gray-300 bg-white placeholder-gray-500 hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",disabled:["border bg-gray-50 placeholder-gray-400",n.variant==="outline"?"border-gray-300":"border-transparent"]}[p];return[m,i,M,x.value,"transition-colors w-full"]});return a({query:s}),(m,i)=>(d(),W(P(Ke),{modelValue:g.value,"onUpdate:modelValue":i[3]||(i[3]=p=>g.value=p),nullable:""},{default:O(({open:p})=>[_(P(Re),{class:"w-full",show:l.value,"onUpdate:show":i[2]||(i[2]=M=>l.value=M)},{target:O(({open:M,togglePopover:F})=>[I(m.$slots,"target",ae(ne({open:M,togglePopover:F,isOpen:l.value,selectedValue:g.value,displayValue:w})),()=>[v("div",ba,[v("button",{class:E(["flex w-full items-center justify-between focus:outline-none",y.value]),onClick:()=>F()},[v("div",wa,[I(m.$slots,"prefix"),g.value?(d(),b("span",pa,V(w(g.value)),1)):(d(),b("span",xa,V(e.placeholder||""),1))]),_(P(ve),{name:"chevron-down",class:"h-4 w-4 text-gray-600","aria-hidden":"true"})],10,va)])])]),body:O(({isOpen:M})=>{var F;return[we(v("div",null,[v("div",ka,[v("div",_a,[_(P(Xe),{ref_key:"search",ref:u,class:"form-input w-full",type:"text",onChange:i[0]||(i[0]=T=>{s.value=T.target.value}),value:s.value,autocomplete:"off",placeholder:"Search"},null,8,["value"]),v("button",{class:"absolute right-1.5 inline-flex h-7 w-7 items-center justify-center",onClick:i[1]||(i[1]=T=>g.value=null)},[_(P(ve),{name:"x",class:"w-4"})])]),_(P(ze),{class:"my-1 max-h-[12rem] overflow-y-auto px-1.5",static:""},{default:O(()=>[(d(!0),b(A,null,J(h.value,T=>we((d(),b("div",{class:"mt-1.5",key:T.key},[T.group&&!T.hideLabel?(d(),b("div",Sa,V(T.group),1)):C("",!0),(d(!0),b(A,null,J(T.items,Y=>(d(),W(P(Je),{as:"template",key:Y.value,value:Y},{default:O(({active:Q,selected:K})=>[v("li",{class:E(["flex items-center rounded px-2.5 py-1.5 text-base",{"bg-gray-100":Q}])},[I(m.$slots,"item-prefix",pe({ref_for:!0},{active:Q,selected:K,option:Y})),I(m.$slots,"item-label",pe({ref_for:!0},{active:Q,selected:K,option:Y}),()=>[he(V(Y.label),1)])],2)]),_:2},1032,["value"]))),128))])),[[xe,T.items.length>0]])),128)),h.value.length==0?(d(),b("li",Ca," No results found ")):C("",!0)]),_:3}),P(c).footer?(d(),b("div",Ma,[I(m.$slots,"footer",ae(ne({value:(F=u.value)==null?void 0:F.el._value,close:D})))])):C("",!0)])],512),[[xe,M]])]}),_:3},8,["show"])]),_:3},8,["modelValue"]))}},Pa={key:0,class:"space-y-1.5"},Oa={key:0},Le={__name:"Link",props:{doctype:{type:String,required:!0},modelValue:{type:String,default:""},hideMe:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=e,n=a,r=Te(),s=L(()=>"value"in r),l=L({get:()=>s.value?r.value:t.modelValue,set:h=>(h==null?void 0:h.value)&&n(s.value?"change":"update:modelValue",h==null?void 0:h.value)}),u=q(null),o=q("");ke(()=>{var h;return(h=u.value)==null?void 0:h.query},h=>{h=h||"",o.value!==h&&(o.value=h,S(h))},{debounce:300,immediate:!0}),ke(()=>t.doctype,()=>S(""),{debounce:300,immediate:!0});const c=z({url:"servicems.api.api.search_link",cache:[t.doctype,o.value,t.hideMe],method:"POST",params:{txt:o.value,doctype:t.doctype},transform:h=>{let f=h.map(w=>({label:w.value,value:w.value}));return!t.hideMe&&t.doctype=="User"&&f.unshift({label:"@me",value:"@me"}),f}});function S(h){var f,w,x;((f=c.data)==null?void 0:f.length)&&h===((w=c.params)==null?void 0:w.txt)&&t.doctype===((x=c.params)==null?void 0:x.doctype)||(c.update({params:{txt:h,doctype:t.doctype}}),c.reload())}function g(h){n(s.value?"change":"update:modelValue",""),h()}const D=L(()=>[{sm:"text-xs",md:"text-base"}[r.size||"sm"],"text-gray-600"]);return(h,f)=>{const w=j("FeatherIcon"),x=j("Button");return P(r).disabled?C("",!0):(d(),b("div",Pa,[P(r).label?(d(),b("label",{key:0,class:E(["block",D.value])},V(P(r).label),3)):C("",!0),_(Da,{ref_key:"autocomplete",ref:u,options:P(c).data,modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=y=>l.value=y),size:P(r).size||"sm",variant:P(r).variant,placeholder:P(r).placeholder,filterable:!1},{target:O(({open:y,togglePopover:m})=>[I(h.$slots,"target",ae(ne({open:y,togglePopover:m})))]),prefix:O(()=>[I(h.$slots,"prefix")]),"item-prefix":O(({active:y,selected:m,option:i})=>[I(h.$slots,"item-prefix",ae(ne({active:y,selected:m,option:i})))]),"item-label":O(({active:y,selected:m,option:i})=>[I(h.$slots,"item-label",ae(ne({active:y,selected:m,option:i})))]),footer:O(({value:y,close:m})=>[P(r).onCreate?(d(),b("div",Oa,[_(x,{variant:"ghost",class:"w-full !justify-start",label:h.Create,New:"",onClick:i=>P(r).onCreate(y,m)},{prefix:O(()=>[_(w,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])):C("",!0),v("div",null,[_(x,{variant:"ghost",class:"w-full !justify-start",label:h.Clear,onClick:()=>g(m)},{prefix:O(()=>[_(w,{name:"x",class:"h-4"})]),_:2},1032,["label","onClick"])])]),_:3},8,["options","modelValue","size","variant","placeholder"])]))}}};const Va={key:0,class:"mb-2 text-base text-gray-900 font-semibold"},Ta={key:0,class:"text-red-500 text-xl"},Ba={key:3,class:"flex items-center gap-2"},qa={class:"text-sm text-gray-900 font-bold"},$a={key:0,class:"text-red-500 text-xl"},Wa={__name:"Fields",props:{section:Object,data:Object},setup(e){const a=e;function t(r,s,l){const u=a.data;u[r]&&(u[r][s]=l)}function n(r,s,l){const u=a.data;u[r]&&(u[r][s]=l),u["Service Booking"].is_new_customer&&(u["Service Booking"].customer=""),u["Service Booking"].is_new_vehicle&&(u["Service Booking"].service_vehicle="")}return(r,s)=>{const l=j("FormControl"),u=j("DatePicker");return d(!0),b(A,null,J(e.section.fields,o=>(d(),b("div",{key:o.name},[o.type!="Check"?(d(),b("div",Va,[he(V(o.label)+" ",1),o.reqd&&!(o.name==="customer"&&e.data["Service Booking"].is_new_customer||o.name==="service_vehicle"&&e.data["Service Booking"].is_new_vehicle)?(d(),b("span",Ta," * ")):C("",!0)])):C("",!0),o.read_only&&o.type!=="Check"?(d(),W(l,{key:1,type:"text",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,disabled:!0,variant:"outline"},null,8,["placeholder","modelValue","onUpdate:modelValue"])):o.type==="Select"?(d(),W(l,{key:2,type:"select",class:E(["form-control",o.prefix?"prefix":""]),options:o.options,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label,variant:"outline"},Ze({_:2},[o.prefix?{name:"prefix",fn:O(()=>[_(ya,{class:E(o.prefix)},null,8,["class"])]),key:"0"}:void 0]),1032,["class","options","modelValue","onUpdate:modelValue","placeholder"])):o.type=="Check"?(d(),b("div",Ba,[_(l,{class:"form-control",type:"checkbox",modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onChange:c=>n(e.section.doctype,o.name,c.target.checked),disabled:Boolean(o.read_only),variant:"outline"},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"]),v("label",qa,[he(V(o.label)+" ",1),o.reqd?(d(),b("span",$a,"*")):C("",!0)])])):o.type==="Link"?(d(),W(Le,{key:4,class:"form-control",value:e.data[e.section.doctype][o.name],doctype:o.options,onChange:c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label,onCreate:o.create,disabled:o.name==="customer"&&e.data["Service Booking"].is_new_customer||o.name==="service_vehicle"&&e.data["Service Booking"].is_new_vehicle},null,8,["value","doctype","onChange","placeholder","onCreate","disabled"])):o.type==="Date"?(d(),W(u,{key:5,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label},null,8,["modelValue","onUpdate:modelValue","placeholder"])):o.type==="Time"?(d(),W(l,{key:6,type:"time",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c},null,8,["placeholder","modelValue","onUpdate:modelValue"])):["Small Text","Text","Long Text"].includes(o.type)?(d(),W(l,{key:7,type:"textarea",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,value:e.data[e.section.doctype][o.name],onInput:c=>t(e.section.doctype,o.name,c.target.value)},null,8,["placeholder","modelValue","onUpdate:modelValue","value","onInput"])):["Int"].includes(o.type)?(d(),W(l,{key:8,type:"number",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onInput:c=>t(e.section.doctype,o.name,c.target.value)},null,8,["placeholder","modelValue","onUpdate:modelValue","onInput"])):(d(),W(l,{key:9,type:"text",placeholder:o.placeholder||o.label,value:e.data[e.section.doctype][o.name],modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onInput:c=>t(e.section.doctype,o.name,c.target.value),disabled:Boolean(o.read_only)},null,8,["placeholder","value","modelValue","onUpdate:modelValue","onInput","disabled"]))]))),128)}}};var me=oe(Wa,[["__scopeId","data-v-f7d1b46a"]]);const Na={class:"flex flex-col gap-6"},Fa={key:0,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},Ya={key:2,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},Ea={key:4,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},La={__name:"FieldMap",props:{sections:Array,data:Object},setup(e){return(a,t)=>(d(),b("div",Na,[(d(!0),b(A,null,J(e.sections,n=>(d(),b("div",{key:n.label,class:E(["first:border-t-0 first:pt-0",n.hideBorder?"":"border-t pt-4"])},[!n.hideLabel&&n.doctype=="Service Booking"?(d(),b("div",Fa,V(n.label),1)):C("",!0),n.doctype=="Service Booking"?(d(),b("div",{key:1,class:E(["grid gap-6",n.columns?"grid-cols-"+n.columns:"grid-cols-4 sm:grid-cols-4"])},[_(me,{section:n,data:e.data},null,8,["section","data"])],2)):C("",!0),!n.hideLabel&&n.doctype=="Customer"&&e.data["Service Booking"].is_new_customer?(d(),b("div",Ya,V(n.label),1)):C("",!0),n.doctype=="Customer"&&e.data["Service Booking"].is_new_customer?(d(),b("div",{key:3,class:E(["grid gap-4",n.columns?"grid-cols-"+n.columns:"grid-cols-3 sm:grid-cols-3"])},[_(me,{section:n,data:e.data},null,8,["section","data"])],2)):C("",!0),!n.hideLabel&&n.doctype=="Service Vehicle"&&e.data["Service Booking"].is_new_vehicle?(d(),b("div",Ea,V(n.label),1)):C("",!0),n.doctype=="Service Vehicle"&&e.data["Service Booking"].is_new_vehicle?(d(),b("div",{key:5,class:E(["grid gap-4",n.columns?"grid-cols-"+n.columns:"grid-cols-3 sm:grid-cols-3"])},[_(me,{section:n,data:e.data},null,8,["section","data"])],2)):C("",!0)],2))),128))]))}};var Ia=oe(La,[["__scopeId","data-v-13c53147"]]);const ja={class:"bg-white px-4 pb-6 pt-5 sm:px-6"},Ha={class:"mb-5 flex gap-36 items-center justify-around"},Ua={class:"flex justify-end w-12"},Ga={key:0,class:"text-center py-4 text-gray-500"},Aa={class:"px-4 pb-7 pt-4 lg:px-7"},Qa={class:"flex flex-row-reverse gap-2 w-full"},Ra=["loading"],Xa={__name:"CreateBooking",props:{showDialog:Boolean,bay:String,booking_date:Date},emits:["closeDialog"],setup(e,{emit:a}){const t=q(!1),n=q(""),r=q(null),s=e,l=Be(),u=a,o=q(s.showDialog);function c(i){o.value=i,u("update:showDialog",i)}X(()=>s.showDialog,i=>{o.value=i}),X(()=>s.bay,i=>{y["Service Booking"].bay=i}),X(()=>s.booking_date,i=>{y["Service Booking"].booking_date=i});const S=()=>{o.value=!1,u("closeDialog")};function g(i,p){["success","info","warning","error"].includes(p)&&l[p]?l[p](i):l(i)}const D=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Service Booking"},y["Service Booking"])}},validate(i){if(r.value=null,!i.doc.customer)return r.value="Customer is required",g("Customer is required","error"),r.value;if(!i.doc.service_vehicle&&!i.doc.is_new_vehicle)return r.value="Service Vehicle is required",g("Service Vehicle is required","error"),r.value;if(!i.doc.booking_date)return r.value="Booking Date is required",g("Booking Date is required","error"),r.value;if(!i.doc.booking_time)return r.value="Booking Time is required",g("Booking Time is required","error"),r.value;if(!i.doc.bay)return r.value="Bay is required",g("Bay is required","error"),r.value;t.value=!0},onSuccess:i=>{t.value=!1,g("Booking created successfully","success"),S(),x()},onError:i=>{if(t.value=!1,!i.messages){r.value=i.message;return}r.value=i.messages.join(`
`)}}),h=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Customer"},y.Customer)}},validate(i){if(r.value=null,!i.doc.customer_name)return r.value="Customer Name is required",g("Customer Name is required","error"),r.value;if(!i.doc.customer_type)return r.value="Customer Type is required",g("Customer Type is required","error"),r.value;if(!i.doc.customer_group)return r.value="Customer Group is required",g("Customer Group is required","error"),r.value;if(!i.doc.territory)return r.value="Territory is required",g("Territory is required","error"),r.value},onSuccess:i=>{y["Service Booking"].customer=i.name,y["Service Vehicle"].customer=i.name,g("Customer created successfully","success")},onError:i=>{if(!i.messages){r.value=i.message,g(r.value,"error");return}r.value=i.messages.join(`
`),g(r.value,"error")}}),f=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Service Vehicle"},y["Service Vehicle"])}},validate(i){if(r.value=null,!i.doc.registration_number)return r.value="Registration Number is required",g("Registration Number is required","error"),r.value;if(!i.doc.customer)return r.value="Customer is required",g("Customer is required","error"),r.value;if(!i.doc.vehicle_model)return r.value="Vehicle Model is required",g("Vehicle Model is required","error"),r.value},onSuccess:i=>{y["Service Booking"].service_vehicle=i.name,g("Vehicle created successfully","success")},onError:i=>{if(!i.messages){r.value=i.message,g(r.value,"error");return}r.value=i.messages.join(`
`),g(r.value,"error")}});function w(){return se(this,null,function*(){t.value=!0,r.value=null;try{y["Service Booking"].is_new_customer&&(n.value="Creating customer...",yield h.submit()),y["Service Booking"].is_new_vehicle&&(n.value="Creating vehicle...",yield f.submit()),n.value="Creating booking...",yield D.submit()}catch(i){r.value="Error while creating booking documents",g(r.value,"error")}finally{t.value=!1}})}function x(){y["Service Booking"]={is_new_customer:!1,customer:"",is_new_vehicle:!1,service_vehicle:"",booking_date:"",booking_time:"",bay:"",service_description:"",disabled:!1},y.Customer={customer_name:"",customer_type:"",customer_group:"",territory:"",tax_id:"",mobile_no:"",disabled:!1},y["Service Vehicle"]={registration_number:"",customer:"",vehicle_model:"",make:"",type:"",engine_number:"",chassis_number:"",disabled:!1}}const y=qe({"Service Booking":{is_new_customer:!1,customer:"",is_new_vehicle:!1,service_vehicle:"",booking_date:"",booking_time:"",bay:"",service_description:"",disabled:!1},Customer:{customer_name:"",customer_type:"",customer_group:"",territory:"",tax_id:"",mobile_no:"",disabled:!1},"Service Vehicle":{registration_number:"",customer:"",vehicle_model:"",make:"",type:"",engine_number:"",chassis_number:"",disabled:!1}}),m=[{label:"Booking Details",doctype:"Service Booking",fields:[{name:"is_new_customer",label:"Is New Customer",type:"Check",placeholder:"Is New Customer",reqd:!1},{name:"customer",label:"Customer",type:"Link",placeholder:"Customer",options:"Customer",reqd:!0},{name:"is_new_vehicle",label:"Is New Vehicle",type:"Check",placeholder:"Is New Vehicle",reqd:!1},{name:"service_vehicle",label:"Service Vehicle",type:"Link",placeholder:"Service Vehicle",options:"Service Vehicle",reqd:!0},{name:"booking_date",label:"Booking Date",type:"Date",placeholder:"Booking Date",reqd:!0},{name:"booking_time",label:"Booking Time",type:"Time",placeholder:"Booking Time",reqd:!0},{name:"bay",label:"Bay",type:"Link",placeholder:"Bay",options:"Bay",reqd:!0},{name:"service_description",label:"Service Description",type:"Small Text",placeholder:"Service Description",reqd:!1}],hideLabel:!1},{label:"Customer Details",doctype:"Customer",fields:[{name:"customer_name",label:"Customer Name",type:"Data",placeholder:"Customer Name",reqd:!0},{name:"customer_type",label:"Customer Type",type:"Select",placeholder:"Customer Type",options:["Individual","Corporate","Government","Non-profit"],reqd:!0},{name:"customer_group",label:"Customer Group",type:"Link",placeholder:"Customer Group",options:"Customer Group",reqd:!0},{name:"territory",label:"Territory",type:"Link",placeholder:"Territory",options:"Territory",reqd:!0},{name:"tax_id",label:"TIN",type:"Data",placeholder:"TIN",reqd:!1},{name:"mobile_no",label:"Mobile No",type:"Data",placeholder:"Mobile No",reqd:!1}],hideLabel:!1,hideBorder:!1},{label:"Vehicle Details",doctype:"Service Vehicle",fields:[{name:"registration_number",label:"Registration Number",type:"Data",placeholder:"Registration Number",reqd:!0},{name:"customer",label:"Customer",type:"Link",placeholder:"Customer",options:"Customer",reqd:!0},{name:"vehicle_model",label:"Vehicle Model",type:"Data",placeholder:"Vehicle Model",options:"Vehicle Model",reqd:!0},{name:"make",label:"Make",type:"Data",placeholder:"Make",reqd:!1},{name:"type",label:"Type",type:"Data",placeholder:"Type",reqd:!1},{name:"engine_number",label:"Engine Number",type:"Data",placeholder:"Engine Number",reqd:!1},{name:"chassis_number",label:"Chassis Number",type:"Data",placeholder:"Chassis Number",reqd:!1}],hideLabel:!1,hideBorder:!1}];return(i,p)=>{const M=j("FeatherIcon"),F=j("Button"),T=j("Dialog");return d(),W(T,{"model-value":o.value,"onUpdate:modelValue":c,options:{size:"5xl"}},{body:O(()=>[v("div",ja,[v("div",Ha,[p[2]||(p[2]=v("div",{class:"ml-60 w-112"},[v("h3",{class:"text-2xl text-center font-semibold leading-6 text-gray-900"}," Create Booking ")],-1)),v("div",Ua,[_(F,{variant:"ghost",class:"w-7",onClick:p[0]||(p[0]=Y=>e.showDialog=!1)},{default:O(()=>[_(M,{name:"x",class:"h-7 w-7"})]),_:1})])]),t.value?(d(),b("div",Ga,V(n.value),1)):C("",!0),v("div",null,[m?(d(),W(Ia,{key:0,sections:m,data:y},null,8,["data"])):C("",!0),r.value?(d(),W(P(rt),{key:1,class:"mt-4 text-lg font-bold",message:r.value},null,8,["message"])):C("",!0)])]),v("div",Aa,[v("div",Qa,[v("button",{class:"w-24 h-10 text-sm font-medium text-white bg-blue-500 rounded-md hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",loading:t.value,onClick:p[1]||(p[1]=Y=>w())}," Create ",8,Ra)])])]),_:1},8,["model-value"])}}},za={class:"flex justify-around w-full mt-4 h-15 border-2 rounded-2xl"},Ja={class:"flex items-center mx-24 gap-24"},Ka={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},Za={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},en={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},tn={__name:"DateFilter",props:{filters:Object},setup(e){return(a,t)=>{const n=j("DatePicker");return d(),b("div",za,[v("div",Ja,[v("div",Ka,[_(n,{modelValue:e.filters.from_date,"onUpdate:modelValue":t[0]||(t[0]=r=>e.filters.from_date=r),variant:"outline",placeholder:"Select From Date"},null,8,["modelValue"])]),v("div",Za,[_(n,{modelValue:e.filters.to_date,"onUpdate:modelValue":t[1]||(t[1]=r=>e.filters.to_date=r),variant:"outline",placeholder:"Select To Date"},null,8,["modelValue"])]),v("div",en,[_(Le,{class:"form-control",value:e.filters.workshop,doctype:"Service Workshop",placeholder:"Service Workshop",onChange:t[2]||(t[2]=r=>e.filters.workshop=r)},null,8,["value"])])])])}}};const an={class:"mb-6"},nn={class:"scroll h-[600px] overflow-y-auto"},rn={key:0,class:"text-center py-4 text-gray-500"},on={class:"border border-gray-300 rounded-md p-4 relative"},sn={class:"flex shadow-lg shadow-green-500 font-bold mb-8 text-center h-7 text-2xl"},ln={class:"flex items-center justify-between relative"},un=["onClick"],cn=["id"],dn={class:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap mt-2 text-center"},mn={class:"font-bold text-base"},hn={key:0,class:"rounded-md bg-orange-200 text-sm text-orange-900 ring-1 ring-inset ring-orange-500/10"},fn={class:"translate-x-3/4 mb-6"},gn={class:"bg-gray-400 text-black rounded-full w-9 h-9 flex items-center justify-center text-5xl font-bold"},yn={class:"flex justify-center mt-auto"},bn=["onClick"],vn=["onClick"],wn={__name:"BookingList",setup(e){const a=new Date,t=q(0),n=q(!0),r=q(!1),s=q(""),l=q(a.value),u=qe({from_date:a.value,to_date:"",workshop:""}),o=Be();X(()=>u,()=>se(this,null,function*(){n.value=!0,yield c.fetch(),n.value=!1}),{deep:!0});const c=z({url:"servicems.api.api.get_service_bays",method:"GET",auto:!0,cache:"bookings",makeParams(){return{from_date:u.from_date||ie(a.value,"yyyy-MM-dd"),to_date:u.to_date,workshop:u.workshop}},validate(f){},onSuccess:f=>{},onError:f=>{if(!f.messages){o.error(f.message);return}o.error(f.messages.join(`
`))}}),S=L(()=>{const f={};a.value=u.from_date?new Date(u.from_date):new Date,t.value=u.to_date?ht(new Date(u.to_date),a.value):6;for(let w=0;w<=t.value;w++){const x=ie(lt(a.value,w),"EE, yyyy-MM-dd");f[x]=[]}return Array.isArray(c.data)&&c.data.forEach(w=>{const x=w.booking_date;if(x&&f[x])f[x].push(w);else if(x&&!f[x]){const y=ie(new Date(x),"EE, yyyy-MM-dd");f[y]||(f[y]=[]),f[y].push(w)}else for(const y in f)f[y].push({bay_name:w.bay_name,count:0,status:""})}),f});function g(f,w){r.value=!0,s.value=f,l.value=ie(w,"yyyy-MM-dd")}const D=f=>{document.getElementById(`container-${f}`).scrollBy({left:-300,behavior:"smooth"})},h=f=>{document.getElementById(`container-${f}`).scrollBy({left:300,behavior:"smooth"})};return et(()=>se(this,null,function*(){yield c.fetch(),n.value=!1})),(f,w)=>(d(),b(A,null,[v("div",an,[_(tn,{filters:u},null,8,["filters"])]),v("div",nn,[n.value?(d(),b("div",rn,"Loading bookings...")):C("",!0),(d(!0),b(A,null,J(S.value,(x,y)=>(d(),b("div",{key:y,class:"mb-5"},[v("div",on,[v("h1",sn,V(y),1),v("div",ln,[x.length>4?(d(),b("button",{key:0,onClick:m=>D(y),class:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-500 px-2 text-white font-bold text-xl rounded-l-md z-10"}," < ",8,un)):C("",!0),v("div",{id:`container-${y}`,class:"flex overflow-x-hidden gap-4 px-8 h-40 custom-scroll-hidden relative"},[(d(!0),b(A,null,J(x,m=>(d(),b("div",{key:m.name,class:E([[m.status?"bg-blue-300 border-blue-300 shadow-lg shadow-cyan-500/50 font-mono":"bg-white-overlay-500 border-0 shadow-xl shadow-cyan-500/50 font-sans"],"w-[140px] h-[150px] flex-shrink-0 rounded-md shadow-md p-2 flex flex-col justify-between"])},[v("div",dn,[v("p",mn,V(m.bay_name),1),m.status?(d(),b("p",hn," Status: "+V(m.status==="In Progress"?"Progress":m.status),1)):C("",!0)]),v("div",fn,[v("div",gn,V(m.count||0),1)]),v("div",yn,[v("button",{class:"bg-gray-400 text-black font-bold px-2 rounded-md text-base w-full h-5",onClick:i=>g(m.bay_name,y)}," +Add ",8,bn)])],2))),128))],8,cn),x.length>4?(d(),b("button",{key:1,onClick:m=>h(y),class:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-500 px-2 text-white font-bold text-xl rounded-r-md z-10"}," > ",8,vn)):C("",!0)])])]))),128)),_(Xa,{showDialog:r.value,bay:s.value,booking_date:l.value,onCloseDialog:w[0]||(w[0]=x=>r.value=!1)},null,8,["showDialog","bay","booking_date"])])],64))}};var pn=oe(wn,[["__scopeId","data-v-fd21b1a6"]]);const xn={class:"flex"},kn={class:"flex-1 max-w-7xl py-8 mx-auto w-full"},Cn={__name:"Home",setup(e){return z({url:"ping",auto:!0}),(a,t)=>(d(),b("div",xn,[_(st),v("div",kn,[t[0]||(t[0]=v("h1",{class:"text-3xl font-bold text-center"},"Welcome to Booking Page",-1)),_(pn)])]))}};export{Cn as default};
