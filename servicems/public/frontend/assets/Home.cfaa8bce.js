var je=Object.defineProperty,Ie=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var be=(e,a,t)=>a in e?je(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Z=(e,a)=>{for(var t in a||(a={}))Ue.call(a,t)&&be(e,t,a[t]);if(ye)for(var t of ye(a))Ge.call(a,t)&&be(e,t,a[t]);return e},ve=(e,a)=>Ie(e,He(a));var ie=(e,a,t)=>new Promise((r,n)=>{var s=o=>{try{u(t.next(o))}catch(c){n(c)}},l=o=>{try{u(t.throw(o))}catch(c){n(c)}},u=o=>o.done?r(o.value):Promise.resolve(o.value).then(s,l);u((t=t.apply(e,a)).next())});import{_ as se,o as d,c as b,a as S,u as fe,b as Ae,r as I,d as M,e as v,f as _,g as q,h as Be,i as Re,j as L,w as X,n as Qe,k as W,l as O,P as Xe,m as j,p as re,q as ne,s as Y,t as V,v as we,x as pe,y as ze,z as Je,F as A,A as J,B as Ke,C as xe,D as he,E as ke,G as Ze,H as _e,I as z,J as et,K as qe,L as tt}from"./index.52514c5b.js";const at={name:"ErrorMessage",props:["message"],computed:{errorMessage(){return this.message?this.message instanceof Error?this.message.messages||this.message.message:this.message:""}}},rt=["innerHTML"];function nt(e,a,t,r,n,s){return t.message?(d(),b("div",{key:0,class:"whitespace-pre-line text-sm text-red-600",role:"alert",innerHTML:s.errorMessage},null,8,rt)):S("",!0)}var ot=se(at,[["render",nt]]);const st={class:"h-screen w-60 bg-gray-200 flex flex-col items-start p-6"},it=["src"],lt={__name:"Sidebar",setup(e){fe();function a(){window.location.href="/app/service-booking"}function t(){window.location.href="/app/service-job-card"}function r(){window.location.href="/app/service-ms"}let n=Ae({doctype:"Navbar Settings",name:"Navbar Settings",onError:s=>{if(!s.messages){tos.error(s.message);return}tos.error(s.messages.join(`
`))}});return(s,l)=>{const u=I("Button");return d(),b("div",st,[M(n).doc&&M(n).doc.app_logo?(d(),b("div",{key:0,class:"mb-8 w-24 h-auto rounded-full flex items-center justify-center mx-8",onClick:l[0]||(l[0]=o=>r())},[v("img",{src:M(n).doc.app_logo,alt:"logo",class:"w-full rounded-full"},null,8,it)])):S("",!0),_(u,{class:"mb-8 w-full hover:bg-blue-500/50 text-black font-bold py-6 px-4 rounded border-4 border-gray-300",label:"Bookings",onClick:l[1]||(l[1]=o=>a())}),_(u,{class:"w-full hover:bg-green-500/50 text-black font-bold py-6 px-4 rounded border-4 border-gray-300",label:"Job Card",onClick:l[2]||(l[2]=o=>t())})])}}},$e=6048e5,ut=864e5,Se=Symbol.for("constructDateFrom");function H(e,a){return typeof e=="function"?e(a):e&&typeof e=="object"&&Se in e?e[Se](a):e instanceof Date?new e.constructor(a):new Date(a)}function N(e,a){return H(a||e,e)}function ct(e,a,t){const r=N(e,t==null?void 0:t.in);return isNaN(a)?H((t==null?void 0:t.in)||e,NaN):(a&&r.setDate(r.getDate()+a),r)}let dt={};function ue(){return dt}function oe(e,a){var u,o,c,C,g,P,h,k;const t=ue(),r=(k=(h=(C=(c=a==null?void 0:a.weekStartsOn)!=null?c:(o=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:o.weekStartsOn)!=null?C:t.weekStartsOn)!=null?h:(P=(g=t.locale)==null?void 0:g.options)==null?void 0:P.weekStartsOn)!=null?k:0,n=N(e,a==null?void 0:a.in),s=n.getDay(),l=(s<r?7:0)+s-r;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function le(e,a){return oe(e,ve(Z({},a),{weekStartsOn:1}))}function We(e,a){const t=N(e,a==null?void 0:a.in),r=t.getFullYear(),n=H(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=le(n),l=H(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=le(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Ce(e){const a=N(e),t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),+e-+t}function Ne(e,...a){const t=H.bind(null,e||a.find(r=>typeof r=="object"));return a.map(t)}function De(e,a){const t=N(e,a==null?void 0:a.in);return t.setHours(0,0,0,0),t}function Ee(e,a,t){const[r,n]=Ne(t==null?void 0:t.in,e,a),s=De(r),l=De(n),u=+s-Ce(s),o=+l-Ce(l);return Math.round((u-o)/ut)}function mt(e,a){const t=We(e,a),r=H((a==null?void 0:a.in)||e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),le(r)}function ht(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ft(e){return!(!ht(e)&&typeof e!="number"||isNaN(+N(e)))}function gt(e,a,t){const[r,n]=Ne(t==null?void 0:t.in,e,a),s=Me(r,n),l=Math.abs(Ee(r,n));r.setDate(r.getDate()-s*l);const u=Number(Me(r,n)===-s),o=s*(l-u);return o===0?0:o}function Me(e,a){const t=e.getFullYear()-a.getFullYear()||e.getMonth()-a.getMonth()||e.getDate()-a.getDate()||e.getHours()-a.getHours()||e.getMinutes()-a.getMinutes()||e.getSeconds()-a.getSeconds()||e.getMilliseconds()-a.getMilliseconds();return t<0?-1:t>0?1:t}function yt(e,a){const t=N(e,a==null?void 0:a.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const bt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vt=(e,a,t)=>{let r;const n=bt[e];return typeof n=="string"?r=n:a===1?r=n.one:r=n.other.replace("{{count}}",a.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function de(e){return(a={})=>{const t=a.width?String(a.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const wt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kt={date:de({formats:wt,defaultWidth:"full"}),time:de({formats:pt,defaultWidth:"full"}),dateTime:de({formats:xt,defaultWidth:"full"})},_t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},St=(e,a,t,r)=>_t[e];function ee(e){return(a,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let n;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=t!=null&&t.width?String(t.width):l;n=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=t!=null&&t.width?String(t.width):e.defaultWidth;n=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(a):a;return n[s]}}const Ct={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tt=(e,a)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Bt={ordinalNumber:Tt,era:ee({values:Ct,defaultWidth:"wide"}),quarter:ee({values:Dt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ee({values:Mt,defaultWidth:"wide"}),day:ee({values:Pt,defaultWidth:"wide"}),dayPeriod:ee({values:Ot,defaultWidth:"wide",formattingValues:Vt,defaultFormattingWidth:"wide"})};function te(e){return(a,t={})=>{const r=t.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=a.match(n);if(!s)return null;const l=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(u)?$t(u,g=>g.test(l)):qt(u,g=>g.test(l));let c;c=e.valueCallback?e.valueCallback(o):o,c=t.valueCallback?t.valueCallback(c):c;const C=a.slice(l.length);return{value:c,rest:C}}}function qt(e,a){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&a(e[t]))return t}function $t(e,a){for(let t=0;t<e.length;t++)if(a(e[t]))return t}function Wt(e){return(a,t={})=>{const r=a.match(e.matchPattern);if(!r)return null;const n=r[0],s=a.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=a.slice(n.length);return{value:l,rest:u}}}const Nt=/^(\d+)(th|st|nd|rd)?/i,Et=/\d+/i,Ft={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yt={any:[/^b/i,/^(a|c)/i]},Lt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jt={any:[/1/i,/2/i,/3/i,/4/i]},It={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ht={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ut={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},At={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qt={ordinalNumber:Wt({matchPattern:Nt,parsePattern:Et,valueCallback:e=>parseInt(e,10)}),era:te({matchPatterns:Ft,defaultMatchWidth:"wide",parsePatterns:Yt,defaultParseWidth:"any"}),quarter:te({matchPatterns:Lt,defaultMatchWidth:"wide",parsePatterns:jt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:te({matchPatterns:It,defaultMatchWidth:"wide",parsePatterns:Ht,defaultParseWidth:"any"}),day:te({matchPatterns:Ut,defaultMatchWidth:"wide",parsePatterns:Gt,defaultParseWidth:"any"}),dayPeriod:te({matchPatterns:At,defaultMatchWidth:"any",parsePatterns:Rt,defaultParseWidth:"any"})},Xt={code:"en-US",formatDistance:vt,formatLong:kt,formatRelative:St,localize:Bt,match:Qt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zt(e,a){const t=N(e,a==null?void 0:a.in);return Ee(t,yt(t))+1}function Jt(e,a){const t=N(e,a==null?void 0:a.in),r=+le(t)-+mt(t);return Math.round(r/$e)+1}function Fe(e,a){var C,g,P,h,k,y,w,f;const t=N(e,a==null?void 0:a.in),r=t.getFullYear(),n=ue(),s=(f=(w=(h=(P=a==null?void 0:a.firstWeekContainsDate)!=null?P:(g=(C=a==null?void 0:a.locale)==null?void 0:C.options)==null?void 0:g.firstWeekContainsDate)!=null?h:n.firstWeekContainsDate)!=null?w:(y=(k=n.locale)==null?void 0:k.options)==null?void 0:y.firstWeekContainsDate)!=null?f:1,l=H((a==null?void 0:a.in)||e,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=oe(l,a),o=H((a==null?void 0:a.in)||e,0);o.setFullYear(r,0,s),o.setHours(0,0,0,0);const c=oe(o,a);return+t>=+u?r+1:+t>=+c?r:r-1}function Kt(e,a){var u,o,c,C,g,P,h,k;const t=ue(),r=(k=(h=(C=(c=a==null?void 0:a.firstWeekContainsDate)!=null?c:(o=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:o.firstWeekContainsDate)!=null?C:t.firstWeekContainsDate)!=null?h:(P=(g=t.locale)==null?void 0:g.options)==null?void 0:P.firstWeekContainsDate)!=null?k:1,n=Fe(e,a),s=H((a==null?void 0:a.in)||e,0);return s.setFullYear(n,0,r),s.setHours(0,0,0,0),oe(s,a)}function Zt(e,a){const t=N(e,a==null?void 0:a.in),r=+oe(t,a)-+Kt(t,a);return Math.round(r/$e)+1}function x(e,a){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(a,"0");return t+r}const U={y(e,a){const t=e.getFullYear(),r=t>0?t:1-t;return x(a==="yy"?r%100:r,a.length)},M(e,a){const t=e.getMonth();return a==="M"?String(t+1):x(t+1,2)},d(e,a){return x(e.getDate(),a.length)},a(e,a){const t=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,a){return x(e.getHours()%12||12,a.length)},H(e,a){return x(e.getHours(),a.length)},m(e,a){return x(e.getMinutes(),a.length)},s(e,a){return x(e.getSeconds(),a.length)},S(e,a){const t=a.length,r=e.getMilliseconds(),n=Math.trunc(r*Math.pow(10,t-3));return x(n,a.length)}},Q={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pe={G:function(e,a,t){const r=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,a,t){if(a==="yo"){const r=e.getFullYear(),n=r>0?r:1-r;return t.ordinalNumber(n,{unit:"year"})}return U.y(e,a)},Y:function(e,a,t,r){const n=Fe(e,r),s=n>0?n:1-n;if(a==="YY"){const l=s%100;return x(l,2)}return a==="Yo"?t.ordinalNumber(s,{unit:"year"}):x(s,a.length)},R:function(e,a){const t=We(e);return x(t,a.length)},u:function(e,a){const t=e.getFullYear();return x(t,a.length)},Q:function(e,a,t){const r=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return x(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,a,t){const r=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return x(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,a,t){const r=e.getMonth();switch(a){case"M":case"MM":return U.M(e,a);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,a,t){const r=e.getMonth();switch(a){case"L":return String(r+1);case"LL":return x(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,a,t,r){const n=Zt(e,r);return a==="wo"?t.ordinalNumber(n,{unit:"week"}):x(n,a.length)},I:function(e,a,t){const r=Jt(e);return a==="Io"?t.ordinalNumber(r,{unit:"week"}):x(r,a.length)},d:function(e,a,t){return a==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):U.d(e,a)},D:function(e,a,t){const r=zt(e);return a==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):x(r,a.length)},E:function(e,a,t){const r=e.getDay();switch(a){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,a,t,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(s);case"ee":return x(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,t,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(s);case"cc":return x(s,a.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,t){const r=e.getDay(),n=r===0?7:r;switch(a){case"i":return String(n);case"ii":return x(n,a.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,a,t){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,t){const r=e.getHours();let n;switch(r===12?n=Q.noon:r===0?n=Q.midnight:n=r/12>=1?"pm":"am",a){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,t){const r=e.getHours();let n;switch(r>=17?n=Q.evening:r>=12?n=Q.afternoon:r>=4?n=Q.morning:n=Q.night,a){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,t){if(a==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return U.h(e,a)},H:function(e,a,t){return a==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):U.H(e,a)},K:function(e,a,t){const r=e.getHours()%12;return a==="Ko"?t.ordinalNumber(r,{unit:"hour"}):x(r,a.length)},k:function(e,a,t){let r=e.getHours();return r===0&&(r=24),a==="ko"?t.ordinalNumber(r,{unit:"hour"}):x(r,a.length)},m:function(e,a,t){return a==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):U.m(e,a)},s:function(e,a,t){return a==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):U.s(e,a)},S:function(e,a){return U.S(e,a)},X:function(e,a,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(a){case"X":return Ve(r);case"XXXX":case"XX":return G(r);case"XXXXX":case"XXX":default:return G(r,":")}},x:function(e,a,t){const r=e.getTimezoneOffset();switch(a){case"x":return Ve(r);case"xxxx":case"xx":return G(r);case"xxxxx":case"xxx":default:return G(r,":")}},O:function(e,a,t){const r=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Oe(r,":");case"OOOO":default:return"GMT"+G(r,":")}},z:function(e,a,t){const r=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Oe(r,":");case"zzzz":default:return"GMT"+G(r,":")}},t:function(e,a,t){const r=Math.trunc(+e/1e3);return x(r,a.length)},T:function(e,a,t){return x(+e,a.length)}};function Oe(e,a=""){const t=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),s=r%60;return s===0?t+String(n):t+String(n)+a+x(s,2)}function Ve(e,a){return e%60===0?(e>0?"-":"+")+x(Math.abs(e)/60,2):G(e,a)}function G(e,a=""){const t=e>0?"-":"+",r=Math.abs(e),n=x(Math.trunc(r/60),2),s=x(r%60,2);return t+n+a+s}const Te=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Ye=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},ea=(e,a)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],n=t[2];if(!n)return Te(e,a);let s;switch(r){case"P":s=a.dateTime({width:"short"});break;case"PP":s=a.dateTime({width:"medium"});break;case"PPP":s=a.dateTime({width:"long"});break;case"PPPP":default:s=a.dateTime({width:"full"});break}return s.replace("{{date}}",Te(r,a)).replace("{{time}}",Ye(n,a))},ta={p:Ye,P:ea},aa=/^D+$/,ra=/^Y+$/,na=["D","DD","YY","YYYY"];function oa(e){return aa.test(e)}function sa(e){return ra.test(e)}function ia(e,a,t){const r=la(e,a,t);if(console.warn(r),na.includes(e))throw new RangeError(r)}function la(e,a,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ua=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ca=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,da=/^'([^]*?)'?$/,ma=/''/g,ha=/[a-zA-Z]/;function ae(e,a,t){var C,g,P,h,k,y,w,f,m,i,p,D,E,T,F,R,K,ge;const r=ue(),n=(g=(C=t==null?void 0:t.locale)!=null?C:r.locale)!=null?g:Xt,s=(i=(m=(y=(k=t==null?void 0:t.firstWeekContainsDate)!=null?k:(h=(P=t==null?void 0:t.locale)==null?void 0:P.options)==null?void 0:h.firstWeekContainsDate)!=null?y:r.firstWeekContainsDate)!=null?m:(f=(w=r.locale)==null?void 0:w.options)==null?void 0:f.firstWeekContainsDate)!=null?i:1,l=(ge=(K=(T=(E=t==null?void 0:t.weekStartsOn)!=null?E:(D=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:D.weekStartsOn)!=null?T:r.weekStartsOn)!=null?K:(R=(F=r.locale)==null?void 0:F.options)==null?void 0:R.weekStartsOn)!=null?ge:0,u=N(e,t==null?void 0:t.in);if(!ft(u))throw new RangeError("Invalid time value");let o=a.match(ca).map($=>{const B=$[0];if(B==="p"||B==="P"){const ce=ta[B];return ce($,n.formatLong)}return $}).join("").match(ua).map($=>{if($==="''")return{isToken:!1,value:"'"};const B=$[0];if(B==="'")return{isToken:!1,value:fa($)};if(Pe[B])return{isToken:!0,value:$};if(B.match(ha))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:$}});n.localize.preprocessor&&(o=n.localize.preprocessor(u,o));const c={firstWeekContainsDate:s,weekStartsOn:l,locale:n};return o.map($=>{if(!$.isToken)return $.value;const B=$.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&sa(B)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&oa(B))&&ia(B,a,String(e));const ce=Pe[B[0]];return ce(u,B,n.localize,c)}).join("")}function fa(e){const a=e.match(da);return a?a[1].replace(ma,"'"):e}const ga={},ya={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ba(e,a){return d(),b("svg",ya,a[0]||(a[0]=[v("circle",{cx:"8",cy:"8",r:"4.5",fill:"transparent",stroke:"currentColor","stroke-width":"3"},null,-1)]))}var va=se(ga,[["render",ba]]);const wa={class:"w-full"},pa=["onClick"],xa={class:"flex items-center"},ka={key:0,class:"overflow-hidden text-ellipsis whitespace-nowrap text-base leading-5"},_a={key:1,class:"text-base leading-5 text-gray-500"},Sa={class:"mt-1 rounded-lg bg-white py-1 text-base shadow-2xl"},Ca={class:"relative px-1.5 pt-0.5"},Da={key:0,class:"px-2.5 py-1.5 text-sm font-medium text-gray-500"},Ma={key:0,class:"mt-1.5 rounded-md px-2.5 py-1.5 text-base text-gray-600"},Pa={key:0,class:"border-t p-1.5 pb-0.5"},Oa={__name:"Autocomplete",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]},size:{type:String,default:"md"},variant:{type:String,default:"subtle"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0}},emits:["update:modelValue","update:query","change"],setup(e,{expose:a,emit:t}){const r=e,n=t,s=q(""),l=q(!1),u=q(null),o=Be(),c=Re(),C=L(()=>"value"in o),g=L({get(){return C.value?o.value:r.modelValue},set(m){s.value="",m&&(l.value=!1),n(C.value?"change":"update:modelValue",m)}});function P(){l.value=!1}const h=L(()=>{var i;return!r.options||r.options.length==0?[]:((i=r.options[0])!=null&&i.group?r.options:[{group:"",items:r.options}]).map((p,D)=>({key:D,group:p.group,hideLabel:p.hideLabel||!1,items:r.filterable?k(p.items):p.items})).filter(p=>p.items.length>0)});function k(m){return s.value?m.filter(i=>[i.label,i.value].some(D=>(D||"").toString().toLowerCase().includes(s.value.toLowerCase()))):m}function y(m){if(typeof m=="string"){let p=h.value.flatMap(D=>D.items).find(D=>D.value===m);return(p==null?void 0:p.label)||m}return m==null?void 0:m.label}X(s,m=>{n("update:query",m)}),X(l,m=>{m&&Qe(()=>{u.value.el.focus()})});const w=L(()=>r.disabled?"text-gray-600":"text-gray-800"),f=L(()=>{let m={sm:"text-base rounded h-7",md:"text-base rounded h-8",lg:"text-lg rounded-md h-10",xl:"text-xl rounded-md h-10"}[r.size],i={sm:"py-1.5 px-2",md:"py-1.5 px-2.5",lg:"py-1.5 px-3",xl:"py-1.5 px-3"}[r.size],p=r.disabled?"disabled":r.variant,D={subtle:"border border-gray-100 bg-gray-100 placeholder-gray-500 hover:border-gray-200 hover:bg-gray-200 focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",outline:"border border-gray-300 bg-white placeholder-gray-500 hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",disabled:["border bg-gray-50 placeholder-gray-400",r.variant==="outline"?"border-gray-300":"border-transparent"]}[p];return[m,i,D,w.value,"transition-colors w-full"]});return a({query:s}),(m,i)=>(d(),W(M(Ze),{modelValue:g.value,"onUpdate:modelValue":i[3]||(i[3]=p=>g.value=p),nullable:""},{default:O(({open:p})=>[_(M(Xe),{class:"w-full",show:l.value,"onUpdate:show":i[2]||(i[2]=D=>l.value=D)},{target:O(({open:D,togglePopover:E})=>[j(m.$slots,"target",re(ne({open:D,togglePopover:E,isOpen:l.value,selectedValue:g.value,displayValue:y})),()=>[v("div",wa,[v("button",{class:Y(["flex w-full items-center justify-between focus:outline-none",f.value]),onClick:()=>E()},[v("div",xa,[j(m.$slots,"prefix"),g.value?(d(),b("span",ka,V(y(g.value)),1)):(d(),b("span",_a,V(e.placeholder||""),1))]),_(M(we),{name:"chevron-down",class:"h-4 w-4 text-gray-600","aria-hidden":"true"})],10,pa)])])]),body:O(({isOpen:D})=>{var E;return[pe(v("div",null,[v("div",Sa,[v("div",Ca,[_(M(ze),{ref_key:"search",ref:u,class:"form-input w-full",type:"text",onChange:i[0]||(i[0]=T=>{s.value=T.target.value}),value:s.value,autocomplete:"off",placeholder:"Search"},null,8,["value"]),v("button",{class:"absolute right-1.5 inline-flex h-7 w-7 items-center justify-center",onClick:i[1]||(i[1]=T=>g.value=null)},[_(M(we),{name:"x",class:"w-4"})])]),_(M(Je),{class:"my-1 max-h-[12rem] overflow-y-auto px-1.5",static:""},{default:O(()=>[(d(!0),b(A,null,J(h.value,T=>pe((d(),b("div",{class:"mt-1.5",key:T.key},[T.group&&!T.hideLabel?(d(),b("div",Da,V(T.group),1)):S("",!0),(d(!0),b(A,null,J(T.items,F=>(d(),W(M(Ke),{as:"template",key:F.value,value:F},{default:O(({active:R,selected:K})=>[v("li",{class:Y(["flex items-center rounded px-2.5 py-1.5 text-base",{"bg-gray-100":R}])},[j(m.$slots,"item-prefix",xe({ref_for:!0},{active:R,selected:K,option:F})),j(m.$slots,"item-label",xe({ref_for:!0},{active:R,selected:K,option:F}),()=>[he(V(F.label),1)])],2)]),_:2},1032,["value"]))),128))])),[[ke,T.items.length>0]])),128)),h.value.length==0?(d(),b("li",Ma," No results found ")):S("",!0)]),_:3}),M(c).footer?(d(),b("div",Pa,[j(m.$slots,"footer",re(ne({value:(E=u.value)==null?void 0:E.el._value,close:P})))])):S("",!0)])],512),[[ke,D]])]}),_:3},8,["show"])]),_:3},8,["modelValue"]))}},Va={key:0,class:"space-y-1.5"},Ta={key:0},Le={__name:"Link",props:{doctype:{type:String,required:!0},modelValue:{type:String,default:""},hideMe:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=e,r=a,n=Be(),s=L(()=>"value"in n),l=L({get:()=>s.value?n.value:t.modelValue,set:h=>(h==null?void 0:h.value)&&r(s.value?"change":"update:modelValue",h==null?void 0:h.value)}),u=q(null),o=q("");_e(()=>{var h;return(h=u.value)==null?void 0:h.query},h=>{h=h||"",o.value!==h&&(o.value=h,C(h))},{debounce:300,immediate:!0}),_e(()=>t.doctype,()=>C(""),{debounce:300,immediate:!0});const c=z({url:"servicems.api.api.search_link",cache:[t.doctype,o.value,t.hideMe],method:"POST",params:{txt:o.value,doctype:t.doctype},transform:h=>{let k=h.map(y=>({label:y.value,value:y.value}));return!t.hideMe&&t.doctype=="User"&&k.unshift({label:"@me",value:"@me"}),k}});function C(h){var k,y,w;((k=c.data)==null?void 0:k.length)&&h===((y=c.params)==null?void 0:y.txt)&&t.doctype===((w=c.params)==null?void 0:w.doctype)||(c.update({params:{txt:h,doctype:t.doctype}}),c.reload())}function g(h){r(s.value?"change":"update:modelValue",""),h()}const P=L(()=>[{sm:"text-xs",md:"text-base"}[n.size||"sm"],"text-gray-600"]);return(h,k)=>{const y=I("FeatherIcon"),w=I("Button");return M(n).disabled?S("",!0):(d(),b("div",Va,[M(n).label?(d(),b("label",{key:0,class:Y(["block",P.value])},V(M(n).label),3)):S("",!0),_(Oa,{ref_key:"autocomplete",ref:u,options:M(c).data,modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=f=>l.value=f),size:M(n).size||"sm",variant:M(n).variant,placeholder:M(n).placeholder,filterable:!1},{target:O(({open:f,togglePopover:m})=>[j(h.$slots,"target",re(ne({open:f,togglePopover:m})))]),prefix:O(()=>[j(h.$slots,"prefix")]),"item-prefix":O(({active:f,selected:m,option:i})=>[j(h.$slots,"item-prefix",re(ne({active:f,selected:m,option:i})))]),"item-label":O(({active:f,selected:m,option:i})=>[j(h.$slots,"item-label",re(ne({active:f,selected:m,option:i})))]),footer:O(({value:f,close:m})=>[M(n).onCreate?(d(),b("div",Ta,[_(w,{variant:"ghost",class:"w-full !justify-start",label:h.Create,New:"",onClick:i=>M(n).onCreate(f,m)},{prefix:O(()=>[_(y,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])):S("",!0),v("div",null,[_(w,{variant:"ghost",class:"w-full !justify-start",label:h.Clear,onClick:()=>g(m)},{prefix:O(()=>[_(y,{name:"x",class:"h-4"})]),_:2},1032,["label","onClick"])])]),_:3},8,["options","modelValue","size","variant","placeholder"])]))}}};const Ba={key:0,class:"mb-2 text-base text-gray-900 font-semibold"},qa={key:0,class:"text-red-500 text-xl"},$a={key:3,class:"flex items-center gap-2"},Wa={class:"text-sm text-gray-900 font-bold"},Na={key:0,class:"text-red-500 text-xl"},Ea={__name:"Fields",props:{section:Object,data:Object},setup(e){const a=e;function t(n,s,l){const u=a.data;u[n]&&(u[n][s]=l)}function r(n,s,l){const u=a.data;u[n]&&(u[n][s]=l),u["Service Booking"].is_new_customer&&(u["Service Booking"].customer=""),u["Service Booking"].is_new_vehicle&&(u["Service Booking"].service_vehicle="")}return(n,s)=>{const l=I("FormControl"),u=I("DatePicker");return d(!0),b(A,null,J(e.section.fields,o=>(d(),b("div",{key:o.name},[o.type!="Check"?(d(),b("div",Ba,[he(V(o.label)+" ",1),o.reqd&&!(o.name==="customer"&&e.data["Service Booking"].is_new_customer||o.name==="service_vehicle"&&e.data["Service Booking"].is_new_vehicle)?(d(),b("span",qa," * ")):S("",!0)])):S("",!0),o.read_only&&o.type!=="Check"?(d(),W(l,{key:1,type:"text",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,disabled:!0,variant:"outline"},null,8,["placeholder","modelValue","onUpdate:modelValue"])):o.type==="Select"?(d(),W(l,{key:2,type:"select",class:Y(["form-control",o.prefix?"prefix":""]),options:o.options,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label,variant:"outline"},et({_:2},[o.prefix?{name:"prefix",fn:O(()=>[_(va,{class:Y(o.prefix)},null,8,["class"])]),key:"0"}:void 0]),1032,["class","options","modelValue","onUpdate:modelValue","placeholder"])):o.type=="Check"?(d(),b("div",$a,[_(l,{class:"form-control",type:"checkbox",modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onChange:c=>r(e.section.doctype,o.name,c.target.checked),disabled:Boolean(o.read_only),variant:"outline"},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"]),v("label",Wa,[he(V(o.label)+" ",1),o.reqd?(d(),b("span",Na,"*")):S("",!0)])])):o.type==="Link"?(d(),W(Le,{key:4,class:"form-control",value:e.data[e.section.doctype][o.name],doctype:o.options,onChange:c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label,onCreate:o.create,disabled:o.name==="customer"&&e.data["Service Booking"].is_new_customer||o.name==="service_vehicle"&&e.data["Service Booking"].is_new_vehicle},null,8,["value","doctype","onChange","placeholder","onCreate","disabled"])):o.type==="Date"?(d(),W(u,{key:5,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,placeholder:o.placeholder||o.label},null,8,["modelValue","onUpdate:modelValue","placeholder"])):o.type==="Time"?(d(),W(l,{key:6,type:"time",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c},null,8,["placeholder","modelValue","onUpdate:modelValue"])):["Small Text","Text","Long Text"].includes(o.type)?(d(),W(l,{key:7,type:"textarea",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,value:e.data[e.section.doctype][o.name],onInput:c=>t(e.section.doctype,o.name,c.target.value)},null,8,["placeholder","modelValue","onUpdate:modelValue","value","onInput"])):["Int"].includes(o.type)?(d(),W(l,{key:8,type:"number",placeholder:o.placeholder||o.label,modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onInput:c=>t(e.section.doctype,o.name,c.target.value)},null,8,["placeholder","modelValue","onUpdate:modelValue","onInput"])):(d(),W(l,{key:9,type:"text",placeholder:o.placeholder||o.label,value:e.data[e.section.doctype][o.name],modelValue:e.data[e.section.doctype][o.name],"onUpdate:modelValue":c=>e.data[e.section.doctype][o.name]=c,onInput:c=>t(e.section.doctype,o.name,c.target.value),disabled:Boolean(o.read_only)},null,8,["placeholder","value","modelValue","onUpdate:modelValue","onInput","disabled"]))]))),128)}}};var me=se(Ea,[["__scopeId","data-v-f7d1b46a"]]);const Fa={class:"flex flex-col gap-6"},Ya={key:0,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},La={key:2,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},ja={key:4,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-xl font-bold text-cyan-700 font-mono leading-5"},Ia={__name:"FieldMap",props:{sections:Array,data:Object},setup(e){return(a,t)=>(d(),b("div",Fa,[(d(!0),b(A,null,J(e.sections,r=>(d(),b("div",{key:r.label,class:Y(["first:border-t-0 first:pt-0",r.hideBorder?"":"border-t pt-4"])},[!r.hideLabel&&r.doctype=="Service Booking"?(d(),b("div",Ya,V(r.label),1)):S("",!0),r.doctype=="Service Booking"?(d(),b("div",{key:1,class:Y(["grid gap-6",r.columns?"grid-cols-"+r.columns:"grid-cols-4 sm:grid-cols-4"])},[_(me,{section:r,data:e.data},null,8,["section","data"])],2)):S("",!0),!r.hideLabel&&r.doctype=="Customer"&&e.data["Service Booking"].is_new_customer?(d(),b("div",La,V(r.label),1)):S("",!0),r.doctype=="Customer"&&e.data["Service Booking"].is_new_customer?(d(),b("div",{key:3,class:Y(["grid gap-4",r.columns?"grid-cols-"+r.columns:"grid-cols-3 sm:grid-cols-3"])},[_(me,{section:r,data:e.data},null,8,["section","data"])],2)):S("",!0),!r.hideLabel&&r.doctype=="Service Vehicle"&&e.data["Service Booking"].is_new_vehicle?(d(),b("div",ja,V(r.label),1)):S("",!0),r.doctype=="Service Vehicle"&&e.data["Service Booking"].is_new_vehicle?(d(),b("div",{key:5,class:Y(["grid gap-4",r.columns?"grid-cols-"+r.columns:"grid-cols-3 sm:grid-cols-3"])},[_(me,{section:r,data:e.data},null,8,["section","data"])],2)):S("",!0)],2))),128))]))}};var Ha=se(Ia,[["__scopeId","data-v-13c53147"]]);const Ua={class:"bg-white px-4 pb-6 pt-5 sm:px-6"},Ga={class:"mb-5 flex gap-36 items-center justify-around"},Aa={class:"flex justify-end w-12"},Ra={key:0,class:"text-center py-4 text-gray-500"},Qa={class:"px-4 pb-7 pt-4 lg:px-7"},Xa={class:"flex flex-row-reverse gap-2 w-full"},za=["loading"],Ja={__name:"CreateBooking",props:{showDialog:Boolean,bay:String,booking_date:Date},emits:["closeDialog"],setup(e,{emit:a}){const t=q(!1),r=q(""),n=q(null),s=e,l=fe(),u=a,o=q(s.showDialog);function c(i){o.value=i,u("update:showDialog",i)}X(()=>s.showDialog,i=>{o.value=i}),X(()=>s.bay,i=>{f["Service Booking"].bay=i}),X(()=>s.booking_date,i=>{f["Service Booking"].booking_date=i});const C=()=>{o.value=!1,u("closeDialog")};function g(i,p){["success","info","warning","error"].includes(p)&&l[p]?l[p](i):l(i)}const P=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Service Booking"},f["Service Booking"])}},validate(i){if(n.value=null,!i.doc.customer)return n.value="Customer is required",g("Customer is required","error"),n.value;if(!i.doc.service_vehicle&&!i.doc.is_new_vehicle)return n.value="Service Vehicle is required",g("Service Vehicle is required","error"),n.value;if(!i.doc.booking_date)return n.value="Booking Date is required",g("Booking Date is required","error"),n.value;if(!i.doc.booking_time)return n.value="Booking Time is required",g("Booking Time is required","error"),n.value;if(!i.doc.bay)return n.value="Bay is required",g("Bay is required","error"),n.value;t.value=!0},onSuccess:i=>{t.value=!1,g("Booking created successfully","success"),C(),w()},onError:i=>{if(t.value=!1,!i.messages){n.value=i.message;return}n.value=i.messages.join(`
`)}}),h=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Customer"},f.Customer)}},validate(i){if(n.value=null,!i.doc.customer_name)return n.value="Customer Name is required",g("Customer Name is required","error"),n.value;if(!i.doc.customer_type)return n.value="Customer Type is required",g("Customer Type is required","error"),n.value;if(!i.doc.customer_group)return n.value="Customer Group is required",g("Customer Group is required","error"),n.value;if(!i.doc.territory)return n.value="Territory is required",g("Territory is required","error"),n.value},onSuccess:i=>{f["Service Booking"].customer=i.name,f["Service Vehicle"].customer=i.name,g("Customer created successfully","success")},onError:i=>{if(!i.messages){n.value=i.message,g(n.value,"error");return}n.value=i.messages.join(`
`),g(n.value,"error")}}),k=z({url:"frappe.client.insert",method:"POST",makeParams(){return{doc:Z({doctype:"Service Vehicle"},f["Service Vehicle"])}},validate(i){if(n.value=null,!i.doc.registration_number)return n.value="Registration Number is required",g("Registration Number is required","error"),n.value;if(!i.doc.customer)return n.value="Customer is required",g("Customer is required","error"),n.value;if(!i.doc.vehicle_model)return n.value="Vehicle Model is required",g("Vehicle Model is required","error"),n.value},onSuccess:i=>{f["Service Booking"].service_vehicle=i.name,g("Vehicle created successfully","success")},onError:i=>{if(!i.messages){n.value=i.message,g(n.value,"error");return}n.value=i.messages.join(`
`),g(n.value,"error")}});function y(){return ie(this,null,function*(){t.value=!0,n.value=null;try{f["Service Booking"].is_new_customer&&(r.value="Creating customer...",yield h.submit()),f["Service Booking"].is_new_vehicle&&(r.value="Creating vehicle...",yield k.submit()),r.value="Creating booking...",yield P.submit()}catch(i){n.value="Error while creating booking documents",g(n.value,"error")}finally{t.value=!1}})}function w(){f["Service Booking"]={is_new_customer:!1,customer:"",is_new_vehicle:!1,service_vehicle:"",booking_date:"",booking_time:"",bay:"",service_description:"",disabled:!1},f.Customer={customer_name:"",customer_type:"",customer_group:"",territory:"",tax_id:"",mobile_no:"",disabled:!1},f["Service Vehicle"]={registration_number:"",customer:"",vehicle_model:"",make:"",type:"",engine_number:"",chassis_number:"",disabled:!1}}const f=qe({"Service Booking":{is_new_customer:!1,customer:"",is_new_vehicle:!1,service_vehicle:"",booking_date:"",booking_time:"",bay:"",service_description:"",disabled:!1},Customer:{customer_name:"",customer_type:"",customer_group:"",territory:"",tax_id:"",mobile_no:"",disabled:!1},"Service Vehicle":{registration_number:"",customer:"",vehicle_model:"",make:"",type:"",engine_number:"",chassis_number:"",disabled:!1}}),m=[{label:"Booking Details",doctype:"Service Booking",fields:[{name:"is_new_customer",label:"Is New Customer",type:"Check",placeholder:"Is New Customer",reqd:!1},{name:"customer",label:"Customer",type:"Link",placeholder:"Customer",options:"Customer",reqd:!0},{name:"is_new_vehicle",label:"Is New Vehicle",type:"Check",placeholder:"Is New Vehicle",reqd:!1},{name:"service_vehicle",label:"Service Vehicle",type:"Link",placeholder:"Service Vehicle",options:"Service Vehicle",reqd:!0},{name:"booking_date",label:"Booking Date",type:"Date",placeholder:"Booking Date",reqd:!0},{name:"booking_time",label:"Booking Time",type:"Time",placeholder:"Booking Time",reqd:!0},{name:"bay",label:"Bay",type:"Link",placeholder:"Bay",options:"Bay",reqd:!0},{name:"service_description",label:"Service Description",type:"Small Text",placeholder:"Service Description",reqd:!1}],hideLabel:!1},{label:"Customer Details",doctype:"Customer",fields:[{name:"customer_name",label:"Customer Name",type:"Data",placeholder:"Customer Name",reqd:!0},{name:"customer_type",label:"Customer Type",type:"Select",placeholder:"Customer Type",options:["Individual","Corporate","Government","Non-profit"],reqd:!0},{name:"customer_group",label:"Customer Group",type:"Link",placeholder:"Customer Group",options:"Customer Group",reqd:!0},{name:"territory",label:"Territory",type:"Link",placeholder:"Territory",options:"Territory",reqd:!0},{name:"tax_id",label:"TIN",type:"Data",placeholder:"TIN",reqd:!1},{name:"mobile_no",label:"Mobile No",type:"Data",placeholder:"Mobile No",reqd:!1}],hideLabel:!1,hideBorder:!1},{label:"Vehicle Details",doctype:"Service Vehicle",fields:[{name:"registration_number",label:"Registration Number",type:"Data",placeholder:"Registration Number",reqd:!0},{name:"customer",label:"Customer",type:"Link",placeholder:"Customer",options:"Customer",reqd:!0},{name:"vehicle_model",label:"Vehicle Model",type:"Data",placeholder:"Vehicle Model",options:"Vehicle Model",reqd:!0},{name:"make",label:"Make",type:"Data",placeholder:"Make",reqd:!1},{name:"type",label:"Type",type:"Data",placeholder:"Type",reqd:!1},{name:"engine_number",label:"Engine Number",type:"Data",placeholder:"Engine Number",reqd:!1},{name:"chassis_number",label:"Chassis Number",type:"Data",placeholder:"Chassis Number",reqd:!1}],hideLabel:!1,hideBorder:!1}];return(i,p)=>{const D=I("FeatherIcon"),E=I("Button"),T=I("Dialog");return d(),W(T,{"model-value":o.value,"onUpdate:modelValue":c,options:{size:"5xl"}},{body:O(()=>[v("div",Ua,[v("div",Ga,[p[2]||(p[2]=v("div",{class:"ml-60 w-112"},[v("h3",{class:"text-2xl text-center font-semibold leading-6 text-gray-900"}," Create Booking ")],-1)),v("div",Aa,[_(E,{variant:"ghost",class:"w-7",onClick:p[0]||(p[0]=F=>e.showDialog=!1)},{default:O(()=>[_(D,{name:"x",class:"h-7 w-7"})]),_:1})])]),t.value?(d(),b("div",Ra,V(r.value),1)):S("",!0),v("div",null,[m?(d(),W(Ha,{key:0,sections:m,data:f},null,8,["data"])):S("",!0),n.value?(d(),W(M(ot),{key:1,class:"mt-4 text-lg font-bold",message:n.value},null,8,["message"])):S("",!0)])]),v("div",Qa,[v("div",Xa,[v("button",{class:"w-24 h-10 text-sm font-medium text-white bg-blue-500 rounded-md hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",loading:t.value,onClick:p[1]||(p[1]=F=>y())}," Create ",8,za)])])]),_:1},8,["model-value"])}}},Ka={class:"flex justify-around w-full mt-4 h-15 border-2 rounded-2xl"},Za={class:"flex items-center mx-24 gap-24"},er={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},tr={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},ar={class:"flex-initial w-64 border-2 border-cyan-500/50 shadow-cyan-900/50 rounded-2xl"},rr={__name:"DateFilter",props:{filters:Object},setup(e){return(a,t)=>{const r=I("DatePicker");return d(),b("div",Ka,[v("div",Za,[v("div",er,[_(r,{modelValue:e.filters.from_date,"onUpdate:modelValue":t[0]||(t[0]=n=>e.filters.from_date=n),variant:"outline",placeholder:"Select From Date"},null,8,["modelValue"])]),v("div",tr,[_(r,{modelValue:e.filters.to_date,"onUpdate:modelValue":t[1]||(t[1]=n=>e.filters.to_date=n),variant:"outline",placeholder:"Select To Date"},null,8,["modelValue"])]),v("div",ar,[_(Le,{class:"form-control",value:e.filters.workshop,doctype:"Service Workshop",placeholder:"Service Workshop",onChange:t[2]||(t[2]=n=>e.filters.workshop=n)},null,8,["value"])])])])}}};const nr={class:"mb-6"},or={class:"scroll h-[600px] overflow-y-auto"},sr={key:0,class:"text-center py-4 text-gray-500"},ir={class:"border border-gray-300 rounded-md p-4 relative"},lr={class:"flex shadow-lg shadow-green-500 font-bold mb-8 text-center h-7 text-2xl"},ur={class:"flex items-center justify-between relative"},cr=["onClick"],dr=["id"],mr={class:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap mt-2 text-center"},hr={class:"font-bold text-base"},fr={key:0,class:"rounded-md bg-orange-200 text-sm text-orange-900 ring-1 ring-inset ring-orange-500/10"},gr={class:"translate-x-3/4 mb-6"},yr=["onClick"],br={class:"flex justify-center mt-auto"},vr=["onClick"],wr=["onClick"],pr={__name:"BookingList",setup(e){const a=new Date,t=q(0),r=q(!0),n=q(!1),s=q(""),l=q(a.value),u=qe({from_date:a.value,to_date:"",workshop:""}),o=fe();X(()=>u,()=>ie(this,null,function*(){r.value=!0,yield c.fetch(),r.value=!1}),{deep:!0});const c=z({url:"servicems.api.api.get_service_bays",method:"GET",auto:!0,cache:"bookings",makeParams(){return{from_date:u.from_date||ae(a.value,"yyyy-MM-dd"),to_date:u.to_date,workshop:u.workshop}},validate(y){},onSuccess:y=>{},onError:y=>{if(!y.messages){o.error(y.message);return}o.error(y.messages.join(`
`))}}),C=L(()=>{const y={};a.value=u.from_date?new Date(u.from_date):new Date,t.value=u.to_date?gt(new Date(u.to_date),a.value):6;for(let w=0;w<=t.value;w++){const f=ae(ct(a.value,w),"EE, yyyy-MM-dd");y[f]=[]}return Array.isArray(c.data)&&c.data.forEach(w=>{const f=w.booking_date;if(f&&y[f])y[f].push(w);else if(f&&!y[f]){const m=ae(new Date(f),"EE, yyyy-MM-dd");y[m]||(y[m]=[]),y[m].push(w)}else for(const m in y)y[m].push({bay_name:w.bay_name,count:0,status:""})}),y});function g(y,w){const f=ae(w,"yyyy-MM-dd");window.location.href="/app/service-booking?bay="+y+"&booking_date="+f}function P(y,w){n.value=!0,s.value=y,l.value=ae(w,"yyyy-MM-dd")}const h=y=>{document.getElementById(`container-${y}`).scrollBy({left:-300,behavior:"smooth"})},k=y=>{document.getElementById(`container-${y}`).scrollBy({left:300,behavior:"smooth"})};return tt(()=>ie(this,null,function*(){yield c.fetch(),r.value=!1})),(y,w)=>(d(),b(A,null,[v("div",nr,[_(rr,{filters:u},null,8,["filters"])]),v("div",or,[r.value?(d(),b("div",sr,"Loading bookings...")):S("",!0),(d(!0),b(A,null,J(C.value,(f,m)=>(d(),b("div",{key:m,class:"mb-5"},[v("div",ir,[v("h1",lr,V(m),1),v("div",ur,[f.length>4?(d(),b("button",{key:0,onClick:i=>h(m),class:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-500 px-2 text-white font-bold text-xl rounded-l-md z-10"}," < ",8,cr)):S("",!0),v("div",{id:`container-${m}`,class:"flex overflow-x-hidden gap-4 px-8 h-40 custom-scroll-hidden relative"},[(d(!0),b(A,null,J(f,i=>(d(),b("div",{key:i.name,class:Y([[i.status?"bg-blue-300 border-blue-300 shadow-lg shadow-cyan-500/50 font-mono":"bg-white-overlay-500 border-0 shadow-xl shadow-cyan-500/50 font-sans"],"w-[140px] h-[150px] flex-shrink-0 rounded-md shadow-md p-2 flex flex-col justify-between"])},[v("div",mr,[v("p",hr,V(i.bay_name),1),i.status?(d(),b("p",fr," Status: "+V(i.status==="In Progress"?"Progress":i.status),1)):S("",!0)]),v("div",gr,[v("div",{class:"bg-gray-400 text-black rounded-full w-9 h-9 flex items-center justify-center text-5xl font-bold hover:bg-blue-700/50",onClick:p=>g(i.bay_name,m)},V(i.count||0),9,yr)]),v("div",br,[v("button",{class:"bg-gray-400 text-black font-bold px-2 rounded-md text-base w-full h-5",onClick:p=>P(i.bay_name,m)}," +Add ",8,vr)])],2))),128))],8,dr),f.length>4?(d(),b("button",{key:1,onClick:i=>k(m),class:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-500 px-2 text-white font-bold text-xl rounded-r-md z-10"}," > ",8,wr)):S("",!0)])])]))),128)),_(Ja,{showDialog:n.value,bay:s.value,booking_date:l.value,onCloseDialog:w[0]||(w[0]=f=>n.value=!1)},null,8,["showDialog","bay","booking_date"])])],64))}};var xr=se(pr,[["__scopeId","data-v-a9efe23c"]]);const kr={class:"flex"},_r={class:"flex-1 max-w-7xl py-8 mx-auto w-full"},Dr={__name:"Home",setup(e){return z({url:"ping",auto:!0}),(a,t)=>(d(),b("div",kr,[_(lt),v("div",_r,[t[0]||(t[0]=v("h1",{class:"text-3xl font-bold text-center"},"Welcome to Booking Page",-1)),_(xr)])]))}};export{Dr as default};
